<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                      "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd"
[ 
	<!ENTITY % wdb.entities SYSTEM "../docbook/wdb_entities.ent">
	%wdb.entities;
]
>

<refentry id='pointLoad1'>
	
	<refmeta>
		<refentrytitle>pointLoad</refentrytitle>
		<manvolnum>1</manvolnum>
	</refmeta>
	
	<refnamediv>
		<refname>pointLoad</refname>
                <refpurpose>Load point data from FELT/GRIB files into the WDB database.
                            Points are given via template file.
                            Loader is a part of the WDB system.
                </refpurpose>
	</refnamediv>
	
	<refsynopsisdiv>
		<cmdsynopsis>
			<command>pointLoad</command>
			<arg choice='opt'>OPTIONS</arg>
		</cmdsynopsis>
	</refsynopsisdiv>
	
	<refsect1>
		<title>Description</title>
		
                <para>
                      pointLoad loads point data from FELT/GRIB files into the wdb database.
                      The WDB database must be up and running for this program to work, unless one of the options:
                      --help or --dry-run have been given on the command line.
                </para>
		
		<para>
                      The pointLoad is using libfimex to interpolate gridded data in requested points. 
                      The template interpolation is based on input template file (given in NetCDF format).
                </para>
		
	</refsect1>
	
	<refsect1>
		<title>Options</title>
		
		<variablelist>
			<?dbfo list-presentation="blocks"?>
			
			<varlistentry>
				<term>--help</term>
				<listitem>
					<para>Produces the help message and then exits.</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--version</term>
				<listitem>
					<para>Produces version information and then exit.</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--config</term>
				<listitem>
					<para>
                                              Specify main configuration file to run pointLoad.
                                              (see example: /usr/share/doc/wdb-point/loadfelteps.cfg)
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--name</term>
				<listitem>
					<para>Name of the file to be loaded.</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--type</term>
				<listitem>
					<para>Type of the file to be loaded (FELT/GRIB).</para>
				</listitem>
			</varlistentry>

			<varlistentry>
                                <term>--dry-run</term>
				<listitem>
                                        <para>
                                              Dumps data in the format recognized by wdb-fastload (see wdb-fastload for further information).
                                              The data is dumped to stdout, and nothing will be sent to wdb database.
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>-d DBNAME</term>
				<term>--database=DBNAME</term>
				<listitem>
					<para>Specify the database name to connect to (e.g., wdb).</para>
				</listitem>
			</varlistentry>
			
			<varlistentry>
				<term>-h DBHOST</term>
				<term>--host=DBHOST</term>
				<listitem>
					<para>Specify the database host to connect to (e.g., somehost.met.no).</para>
				</listitem>
			</varlistentry>
			
			<varlistentry>
				<term>-u DBUSER</term>
				<term>--user=DBUSER</term>
				<listitem>
					<para>Specify the WDB user to connect as. The database user must have
					      access to the wdb_grib role (this is will usually be the case if the
					      pointLoad process is being run by the creator of the database).
                                        </para>
				</listitem>
			</varlistentry>
			
			<varlistentry>
				<term>-p DBPORT</term>
				<term>--port=DBPORT</term>
				<listitem>
					<para>Specify the database port to connect to (e.g., 5432).</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--placenamespaceid</term>
				<listitem>
					<para>Specify the namespace in wdb database where to load the data (default 0).</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--validtime.config</term>
				<listitem>
					<para>
                                              Specify path to validtime configuration file for [FELT/GRIB1].
                                              For further information look documentation for feltLoad/gribLoad.
                                              (see example: /usr/share/doc/wdb-point/validtime.cfg)
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--dataprovider.config</term>
				<listitem>
					<para>
                                              Specify path to dataprovider configuration file for [FELT/GRIB1].
                                              For further information look documentation for feltLoad/gribLoad.
                                              (see example: /usr/share/doc/wdb-point/dataprovider.cfg)
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--valueparameter.config</term>
				<listitem>
					<para>
                                              Specify path to valueparameter configuration file for [FELT/GRIB1].
                                              For further information look documentation for feltLoad/gribLoad.
                                              (see example: /usr/share/doc/wdb-point/valueparameter.cfg)
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--levelparameter.config</term>
				<listitem>
					<para>
                                              Specify path to levelparameter configuration file for [FELT/GRIB1].
                                              For further information look documentation for feltLoad/gribLoad.
                                              (see example: /usr/share/doc/wdb-point/levelparameter.cfg)
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--leveladditions.config</term>
				<listitem>
					<para>
                                              Specify path to leveladditions configuration file for [FELT/GRIB1].
                                              For further information look documentation for feltLoad/gribLoad.
                                              (see example: /usr/share/doc/wdb-point/leveladditions.cfg)
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--valueparameter2.config</term>
				<listitem>
					<para>
                                              Specify path to valueparameter2 configuration file for [GRIB2].
                                              For further information look documentation for gribLoad.
                                              (see example: /usr/share/doc/wdb-point/valueparameter2.cfg)
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--levelparameter2.config</term>
				<listitem>
					<para>
                                              Specify path to levelparameter2 configuration file for [GRIB2].
                                              For further information look documentation for gribLoad.
                                              (see example: /usr/share/doc/wdb-point/levelparameter2.cfg)
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--leveladditions2.config</term>
				<listitem>
					<para>
                                              Specify path to leveladditions2 configuration file for [GRIB2].
                                              For further information look documentation for gribLoad.
                                              (see example: /usr/share/doc/wdb-point/leveladditions2.cfg)
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--fimex.config</term>
				<listitem>
					<para>
                                              Specify path to fimex reader configuration file.
                                              For further information look documentation for fimex.
                                              (see example: /usr/share/doc/wdb-point/fimexreader.xml)
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--fimex.interpolate.template</term>
				<listitem>
					<para>
                                              Specify path to file used in fimex template interpolation.
                                              For further information look documentation for fimex.
                                              (see example: /usr/share/doc/wdb-point/template.nc)
                                        </para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>--stations</term>
				<listitem>
					<para>
                                              Filter for which stations(from template) the data will actuallty be loaded.
                                              (example: --station '18700 1456')
                                        </para>
				</listitem>
			</varlistentry>

		</variablelist>


	</refsect1>
	
	<refsect1>
		<title>Exit Status</title>
		
		<para>pointLoad returns 0 to the shell if it finished normally and 1 if a fatal error
		      occured during loading (out of memory, files not found, database not found,
		      etc.).
                </para>

                <para>
                      IMPORTANT:
                </para>
		
	</refsect1>
	
</refentry>
